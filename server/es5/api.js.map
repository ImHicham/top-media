{"version":3,"sources":["api.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC1C,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC/B,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAE3B,IAAI,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEzB,IAAI,GAAG,GAAG,OAAO,EAAE,CAAC;;AAEpB,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC;AACtC,IAAI,UAAU,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;;AAEzC,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,YAAY,EAAE,UAAU,CAAC,YAAY,EAAE,YAAM;AAC/D,SAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;CAChD,EACD,IAAI;CACL,CAAC;;AAEF,GAAG,CAAC,GAAG,CAAC,OAAO,UAAO,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC;;AAE9D,GAAG,CAAC,GAAG,CAAC,GAAG,EAAG,UAAC,GAAG,EAAE,GAAG,EAAK;AACzB,KAAG,CAAC,QAAQ,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC,EAAE,CAAC,CAAC;CAC7E,CAAC,CAAC;;AAEH,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAG,UAAC,GAAG,EAAE,GAAG,EAAK;AAC9B,YAAU,CAAC,YAAY,EAAE,CAAC;CAC5B,CAAC,CAAC;;AAEH,GAAG,CAAC,GAAG,CAAC,SAAS,EAAG,UAAC,GAAG,EAAE,GAAG,EAAK;AAC9B,SAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;;AAE9B,IAAE,CAAC,OAAO,EAAE,CAAC,IAAI,CAAE,UAAC,EAAE,EAAK;AACzB,QAAI,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AACvC,cAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,IAAI,EAAE;AAC/C,UAAI,GAAG,EACL,OAAO,GAAG,CAAC;AACb,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChB,CAAC,CAAC;GACJ,CAAC,CAAC;CACN,CAAC,CAAC;;AAEH,IAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,YAAM;;AAElC,MAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC;AACpC,MAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;;AAEjC,SAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;CAElE,CAAC,CAAC","file":"api.js","sourcesContent":["var express = require('express');\r\nvar serveStatic = require('serve-static');\r\nvar moment = require(\"moment\");\r\nvar path = require(\"path\");\r\n\r\nvar db = require(\"./db\");\r\n\r\nvar app = express();\r\n\r\nvar CronJob = require('cron').CronJob;\r\nvar controller = require(\"./controller\");\r\n\r\nvar job = new CronJob('00 * * * *', controller.searchTweets, () => {\r\n    console.log(\"cron executed at %s\", new Date());\r\n  },\r\n  true /* Start the job right now */\r\n);\r\n\r\napp.use(express.static(path.join(__dirname, '../../client')));\r\n\r\napp.get('/',  (req, res) => {\r\n  \tres.sendFile(\"index.html\", { root: path.join(__dirname, '../../client') });\r\n});\r\n\r\napp.get('/searc',  (req, res) => {\r\n  \tcontroller.searchTweets();\r\n});\r\n\r\napp.get('/videos',  (req, res) => {\r\n    console.log(\"getting videos\");\r\n\r\n    db.connect().then( (db) => {\r\n      var collection = db.collection(\"post\");\r\n      collection.find({}).toArray(function (err, data) {\r\n        if (err) \r\n          return err;\r\n        res.json(data);\r\n      });\r\n    });\r\n});\r\n\r\nvar server = app.listen(3000, () => {\r\n\r\n  var host = server.address().address;\r\n  var port = server.address().port;\r\n\r\n  console.log('Example app listening at http://%s:%s', host, port);\r\n\r\n});"],"sourceRoot":"C:\\Users\\stwo\\Desktop\\web\\top-media\\server\\es6"}